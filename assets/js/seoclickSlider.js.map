{"version":3,"sources":["../../sources/js/seoclickSlider.js"],"names":["SeoClickSlider","params","$","jQuery","slider","SliderConstructor","sliderSelector","sliderItemSelector","viewed","parseInt","spacerMinWidth","imageContainerWidth","imageWidth","imageContainerHeight","imageHeight","slideWidth","arrowNav","dotNav","arrowsMarkup","desc_block","infiniteMode","autoScroll","lazy_load","responsiveData","debug","arg","state","container","containerWidth","viewObject","viewWidth","viewHeight","translateData","value","min","max","step","slides","object","count","imageRatio","maxWidth","maxHeight","spacers","width","min_width","desktop","laptop","tablet","phone","options","handle","counter","active","interval","animation_speed","prototype","addSliderMarkup","children","first","hasClass","addClass","append","find","appendTo","slideImage","parent","wrap","setSlidesData","console","log","length","setImageData","css","outerWidth","outerHeight","calculateSlideHeight","setViewData","calculateSlidesSpacers","Math","abs","round","calculateSlideWidth","setContainerData","each","index","slide","marginLeft","marginRight","setTranslateData","ceil","_initListeners","window","IntersectionObserverEntry","addIntersectionObserver","images","image","lazyloadImage","sliderResizer","on","lastWindowWidth","resize","currentWindowWidth","addNav","moveSlidesLeft","self","x","dotnav_container","removeClass","active_dot","next","translate","data","activateSlideDesc","moveSlidesRight","prev","addArrowNav","extraClass","markup","left","right","click","addDotNav","translate_value","dot_element","addSlidesDescData","number","descClass","setTimeout","mc","Hammer","document","querySelector","clearInterval","isPaused","response","moveLeft","setInterval","mouseenter","mouseleave","Object","defineProperty","set","anime","targets","translateX","easing","duration","complete","setActiveSlides","initializeSlider","removeAttr","addViewportListeners","updateViewData","updateSlidesSize","maxSlideWidth","maxImageConatinerWidth","maxImageContainerHeight","updateNav","remove","minRatio","slide_image","image_width","attr","image_height","image_ratio","height","calcSlideWidth","calcImageContainerWidth","calcImageContainerHeight","initImageContainerWidth","initImageContainerHeight","initImageContainerRatio","matchMedia","checkDesktopQuery","e","matches","checkLaptopQuery","checkTabletQuery","checkPhoneQuery","addListener","lazy_flag","image_observer_callback","entries","observer","forEach","entry","isIntersecting","target","load","disconnect","slider_observer","IntersectionObserver","image_observer","root","get","rootMargin","observe","sliderWidth","initMaxSlideWidth","floor","sliderViewCoords","getBoundingClientRect","minSlideCoords","maxSlideCoords","slideCoords","setViewItems"],"mappings":"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","file":"seoclickSlider.js","sourcesContent":["let SeoClickSlider = function (params) {\r\n\r\n    let $ = jQuery;\r\n\r\n    let slider = new SliderConstructor({\r\n        sliderSelector: params.sliderSelector,\r\n        sliderItemSelector: params.sliderItemSelector,\r\n        viewed: parseInt(params.viewed, 10),\r\n        spacerMinWidth: parseInt(params.spacerMinWidth, 10),\r\n        imageContainerWidth: parseInt(params.imageWidth, 10),\r\n        imageContainerHeight: parseInt(params.imageHeight, 10),\r\n        slideWidth: parseInt(params.slideWidth, 10),\r\n        arrowNav: params.arrowNav,\r\n        dotNav: params.dotNav,\r\n        arrowsMarkup: params.arrowsMarkup,\r\n        desc_block: params.desc_block,\r\n        infiniteMode: params.infiniteMode,\r\n        autoScroll: params.autoScroll,\r\n        lazy_load: params.lazy_load,\r\n        responsiveData: params.responsiveData,\r\n        debug: params.debug\r\n    });\r\n\r\n    function SliderConstructor(arg) {\r\n        this.sliderSelector = arg.sliderSelector;\r\n        this.sliderItemSelector = arg.sliderItemSelector;\r\n        this.state = null;\r\n        this.container = null;\r\n        this.containerWidth = null;\r\n        this.viewObject = null;\r\n        this.viewWidth = null;\r\n        this.viewHeight = null;\r\n        this.translateData = {\r\n            value: null,\r\n            min: null,\r\n            max: null,\r\n            step: null\r\n        };\r\n        this.slides = {\r\n            object: null,\r\n            count: null,\r\n            viewed: arg.viewed,\r\n            imageContainerWidth: arg.imageContainerWidth,\r\n            imageContainerHeight: arg.imageContainerHeight,\r\n            imageRatio: 1,\r\n            maxWidth: arg.slideWidth,\r\n            maxHeight: null\r\n        };\r\n        this.spacers = {\r\n            count: null,\r\n            width: null,\r\n            min_width: arg.spacerMinWidth\r\n        };\r\n        this.responsiveData = {\r\n            desktop: arg.responsiveData.desktop,\r\n            laptop: arg.responsiveData.laptop,\r\n            tablet: arg.responsiveData.tablet,\r\n            phone: arg.responsiveData.phone\r\n        };\r\n        this.options = {\r\n            arrowNav: arg.arrowNav,\r\n            dotNav: arg.dotNav,\r\n            arrowsMarkup: arg.arrowsMarkup,\r\n            desc_block: arg.desc_block,\r\n            infiniteMode: arg.infiniteMode,\r\n            autoScroll: {\r\n                handle: null,\r\n                counter: 0,\r\n                active: arg.autoScroll.active,\r\n                interval: parseInt(arg.autoScroll.interval, 10),\r\n                animation_speed: parseInt(arg.autoScroll.animation_speed, 10)\r\n            },\r\n            lazy_load: arg.lazy_load,\r\n            debug: arg.debug\r\n        };\r\n    }\r\n\r\n    SliderConstructor.prototype.addSliderMarkup = function () {\r\n\r\n        let slider = $(this.sliderSelector);\r\n\r\n        if (slider.children().first().hasClass('slides-wrap')) return true;\r\n\r\n        if (!slider.hasClass(\"seoclick-slider\")) slider.addClass(\"seoclick-slider\");\r\n        slider.append(\"<div class='slides-wrap'><div class='slider-view'><div class='slides-container'></div></div></div>\");\r\n        slider.find(this.sliderItemSelector).appendTo(slider.find(\".slides-container\"));\r\n\r\n        let slideImage = slider.find(this.sliderItemSelector + \" img\");\r\n\r\n        if (!slideImage.parent().hasClass('image')) {\r\n            slideImage.wrap(\"<div class='image'></div>\");\r\n        }\r\n    };\r\n    SliderConstructor.prototype.setSlidesData = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call setSlidesData\");\r\n\r\n        //Размер изображений\r\n        if (this.slides.object.find('.image img').length) {\r\n\r\n            if (!this.slides.imageContainerWidth || !this.slides.imageContainerHeight) {\r\n                if (this.options.debug) console.log(`setSlidesData call setImageContainerData()`);\r\n\r\n                this.setImageData();\r\n            } else {\r\n\r\n                this.slides.imageRatio = this.slides.imageContainerWidth / this.slides.imageContainerHeight;\r\n            }\r\n\r\n            this.slides.object.find('.image').css('max-width', this.slides.imageContainerWidth);\r\n            this.slides.object.find('.image').css('max-height', this.slides.imageContainerHeight);\r\n        }\r\n\r\n        if (this.slides.maxWidth === null) {\r\n            this.slides.maxWidth = this.slides.object.outerWidth();\r\n        }\r\n        this.slides.object.css(\"height\", '');\r\n        this.slides.object.outerWidth(this.slides.maxWidth);\r\n\r\n        this.slides.maxHeight = this.slides.object.outerHeight();\r\n\r\n        if (this.options.debug) console.log(`setSlidesData call calculateSlideHeight()`);\r\n\r\n        this.calculateSlideHeight();\r\n    };\r\n    SliderConstructor.prototype.setViewData = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call setViewData\");\r\n\r\n        this.viewObject.css(\"width\", '');\r\n\r\n        if (this.slides.viewed === 1) {\r\n            this.viewWidth = this.slides.maxWidth;\r\n        } else {\r\n            this.viewWidth = this.viewObject.width();\r\n        }\r\n\r\n        this.viewHeight = this.slides.maxHeight;\r\n        this.viewObject.width(this.viewWidth).outerHeight(this.viewHeight);\r\n    };\r\n    SliderConstructor.prototype.calculateSlidesSpacers = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call calculateSlidesSpacers\");\r\n\r\n        if (this.slides.viewed !== 1) {\r\n            this.spacers.width = Math.abs(Math.round((this.viewWidth - this.slides.maxWidth * this.slides.viewed) / (this.slides.viewed - 1)));\r\n            this.spacers.count = this.slides.count - 1;\r\n            if (this.spacers.width < this.spacers.min_width) {\r\n\r\n                this.slides.maxWidth = this.calculateSlideWidth();\r\n                if (this.slides.imageContainerWidth > this.slides.maxWidth) {\r\n                    this.slides.imageContainerWidth = this.slides.maxWidth;\r\n                    this.slides.imageContainerHeight = Math.round(this.slides.imageContainerWidth / this.slides.imageRatio);\r\n                }\r\n\r\n                if (this.options.debug) console.log(`calculateSlidesSpacers call setSlidesData()`);\r\n\r\n                this.setSlidesData();\r\n                this.calculateSlidesSpacers();\r\n            }\r\n        } else {\r\n            this.spacers.width = 0;\r\n            this.spacers.count = 0;\r\n        }\r\n    };\r\n    SliderConstructor.prototype.setContainerData = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call setContainerData\");\r\n\r\n        this.containerWidth = this.slides.maxWidth * this.slides.count + this.spacers.count * this.spacers.width;\r\n        this.container.width(this.containerWidth);\r\n        $.each(this.slides.object, (index, slide) => {\r\n            if (index !== this.slides.count - 1) {\r\n                $(slide).css({\r\n                    marginLeft: 0,\r\n                    marginRight: this.spacers.width\r\n                });\r\n            }\r\n        });\r\n    };\r\n    SliderConstructor.prototype.setTranslateData = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call setTranslateData\");\r\n\r\n        this.translateData.min = 0;\r\n        this.translateData.value = this.translateData.min;\r\n        this.container.css(\"transform\", \"translateX(\" + this.translateData.value + \"px)\");\r\n        if (this.slides.viewed === 1) {\r\n            this.translateData.step = Math.round(this.viewWidth);\r\n        } else {\r\n            this.translateData.step = Math.round(this.viewWidth + this.spacers.width);\r\n        }\r\n        this.translateData.max = Math.round((Math.ceil(this.slides.count / this.slides.viewed) - 1) * this.translateData.step);\r\n    };\r\n    SliderConstructor.prototype._initListeners = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call _initListeners\");\r\n\r\n        if (this.options.lazy_load && 'IntersectionObserver' in window &&\r\n            'IntersectionObserverEntry' in window &&\r\n            'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\r\n\r\n            if (this.options.debug) console.log(`_initListeners call addIntersectionObserver()`);\r\n\r\n            this.addIntersectionObserver();\r\n        } else if (this.options.lazy_load) {\r\n            let images = $(this.sliderSelector).find(`${this.sliderItemSelector} img`);\r\n\r\n            $.each(images, (index, image) => {\r\n                this.lazyloadImage(image);\r\n            });\r\n        }\r\n\r\n        if (this.options.debug) console.log(`_initListeners call sliderResizer()`);\r\n\r\n        this.sliderResizer();\r\n        $(window).on('load', () => {\r\n\r\n            if (this.options.debug) console.log(`_initListeners window load call sliderResizer()`);\r\n            this.sliderResizer();\r\n        });\r\n\r\n        let lastWindowWidth = $(window).width();\r\n\r\n        $(window).resize(() => {\r\n\r\n            if (this.options.debug) console.log(`_initListeners resize call sliderResizer()`);\r\n\r\n            let currentWindowWidth = $(window).width();\r\n\r\n            if(currentWindowWidth !== lastWindowWidth){\r\n                lastWindowWidth = currentWindowWidth;\r\n                this.sliderResizer();\r\n            }\r\n        });\r\n    };\r\n    SliderConstructor.prototype.addNav = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call addNav\");\r\n\r\n        function moveSlidesLeft() {\r\n\r\n            if (self.state !== null) return false;\r\n\r\n            if (self.options.debug) console.log(`Call moveSlidesLeft()`);\r\n\r\n            self.state = 'animated';\r\n\r\n            let x = self.translateData.value + self.translateData.step,\r\n                dotnav_container = $(self.sliderSelector).find(\".dot-nav\");\r\n\r\n            if (x <= self.translateData.max) {\r\n                if (self.options.arrowNav && !self.options.infiniteMode) {\r\n                    if (x === self.translateData.max) {\r\n                        $(self.sliderSelector).find('.slider-next').addClass(\"disabled\");\r\n                        $(self.sliderSelector).find('.slider-prev').removeClass(\"disabled\");\r\n                    } else {\r\n                        $(self.sliderSelector).find('.slider-next').removeClass(\"disabled\");\r\n                        $(self.sliderSelector).find('.slider-prev').removeClass(\"disabled\");\r\n                    }\r\n                }\r\n                if (self.options.dotNav) {\r\n                    let active_dot = dotnav_container.find(\".active\").removeClass(\"active\");\r\n                    active_dot.next().addClass(\"active\");\r\n                }\r\n                if (self.options.desc_block) {\r\n                    $.each(self.slides.object, function (index, slide) {\r\n                        \"use strict\";\r\n                        let translate = $(slide).data(\"translate_value\");\r\n                        if (translate === x) {\r\n\r\n                            if (self.options.debug) console.log(`moveSlidesLeft call activateSlideDesc(${$(slide).data(\"number\")})`);\r\n\r\n                            activateSlideDesc($(slide).data(\"number\"));\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (self.options.debug) console.log(`moveSlidesLeft call translate(${x})`);\r\n\r\n                self.translate = x;\r\n\r\n                return 'left';\r\n            } else if (self.options.infiniteMode) {\r\n                if (self.options.dotNav) {\r\n                    dotnav_container.find(\".active\").removeClass(\"active\");\r\n                    dotnav_container.find(\"span:first-child\").addClass(\"active\");\r\n                }\r\n                if (self.options.desc_block) {\r\n                    $.each(self.slides.object, function (index, slide) {\r\n                        \"use strict\";\r\n                        let translate = $(slide).data(\"translate_value\");\r\n                        if (translate === self.translateData.min) {\r\n\r\n                            if (self.options.debug) console.log(`moveSlidesLeft call activateSlideDesc(${$(slide).data(\"number\")})`);\r\n\r\n                            activateSlideDesc($(slide).data(\"number\"));\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (self.options.debug) console.log(`moveSlidesLeft call translate(${self.translateData.min})`);\r\n\r\n                self.translate = self.translateData.min;\r\n\r\n                return 'start';\r\n            } else {\r\n                self.state = null;\r\n\r\n                return 'stop';\r\n            }\r\n        }\r\n\r\n        function moveSlidesRight() {\r\n\r\n            if (self.state !== null) return false;\r\n\r\n            if (self.options.debug) console.log(`Call moveSlidesRight`);\r\n\r\n            self.state = 'animated';\r\n\r\n            let x = self.translateData.value - self.translateData.step,\r\n                dotnav_container = $(self.sliderSelector).find(\".dot-nav\");\r\n\r\n            if (x >= self.translateData.min) {\r\n                if (self.options.arrowNav && !self.options.infiniteMode) {\r\n                    if (x === self.translateData.min) {\r\n                        $(self.sliderSelector).find('.slider-prev').addClass(\"disabled\");\r\n                        $(self.sliderSelector).find('.slider-next').removeClass(\"disabled\");\r\n                    } else {\r\n                        $(self.sliderSelector).find('.slider-next').removeClass(\"disabled\");\r\n                        $(self.sliderSelector).find('.slider-prev').removeClass(\"disabled\");\r\n                    }\r\n                }\r\n                if (self.options.dotNav) {\r\n                    let active_dot = dotnav_container.find(\".active\").removeClass(\"active\");\r\n                    active_dot.prev().addClass(\"active\");\r\n                }\r\n                if (self.options.desc_block) {\r\n                    $.each(self.slides.object, function (index, slide) {\r\n                        \"use strict\";\r\n                        let translate = $(slide).data(\"translate_value\");\r\n                        if (translate === x) {\r\n\r\n                            if (self.options.debug) console.log(`moveSlidesRight call activateSlideDesc(${$(slide).data(\"number\")})`);\r\n\r\n                            activateSlideDesc($(slide).data(\"number\"));\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (self.options.debug) console.log(`moveSlidesRight call translate(${x})`);\r\n\r\n                self.translate = x;\r\n\r\n                return 'right';\r\n            } else if (self.options.infiniteMode) {\r\n                if (self.options.dotNav) {\r\n                    dotnav_container.find(\".active\").removeClass(\"active\");\r\n                    dotnav_container.find(\"span:last-child\").addClass(\"active\");\r\n                }\r\n                if (self.options.desc_block) {\r\n                    $.each(self.slides.object, function (index, slide) {\r\n                        \"use strict\";\r\n                        let translate = $(slide).data(\"translate_value\");\r\n                        if (translate === self.translateData.max) {\r\n\r\n                            if (self.options.debug) console.log(`moveSlidesRight call activateSlideDesc(${$(slide).data(\"number\")})`);\r\n\r\n                            activateSlideDesc($(slide).data(\"number\"));\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if (self.options.debug) console.log(`moveSlidesRight call translate(${self.translateData.max})`);\r\n\r\n                self.translate = self.translateData.max;\r\n\r\n                return 'end'\r\n            } else {\r\n                self.state = null;\r\n\r\n                return 'stop';\r\n            }\r\n        }\r\n\r\n        function addArrowNav() {\r\n            \"use strict\";\r\n\r\n            if (self.options.debug) console.log(`Call addArrowNav()`);\r\n\r\n            let extraClass = '', markup;\r\n\r\n            if (!self.options.infiniteMode) extraClass = 'disabled';\r\n\r\n            if (!self.options.arrowsMarkup) {\r\n                markup = `<div class=\"arrow-nav\">\r\n                            <div class=\"slider-prev ${extraClass}\">\r\n                                <i class=\"fa fa-angle-left fa-4x\" aria-hidden=\"true\"></i>\r\n                            </div>\r\n                            <div class=\"slider-next\">\r\n                                <i class=\"fa fa-angle-right fa-4x\" aria-hidden=\"true\"></i>\r\n                            </div>\r\n                          </div>`;\r\n            } else {\r\n                markup = `<div class=\"arrow-nav\">\r\n                            <div class=\"slider-prev ${extraClass}\">\r\n                                ${self.options.arrowsMarkup.left}\r\n                            </div>\r\n                            <div class=\"slider-next\">\r\n                                ${self.options.arrowsMarkup.right}\r\n                            </div>\r\n                          </div>`;\r\n            }\r\n\r\n\r\n            $(self.sliderSelector).append(markup);\r\n            $(self.sliderSelector).find(\".arrow-nav > div\").click(function () {\r\n\r\n                if ($(this).hasClass(\"slider-next\")) {\r\n\r\n                    if (self.options.debug) console.log(`arrowNav call moveSlidesLeft`);\r\n\r\n                    moveSlidesLeft();\r\n                } else {\r\n\r\n                    if (self.options.debug) console.log(`arrowNav call moveSlidesRight`);\r\n\r\n                    moveSlidesRight();\r\n                }\r\n            });\r\n        }\r\n\r\n        function addDotNav() {\r\n            \"use strict\";\r\n\r\n            if (self.options.debug) console.log(`Call addDotNav()`);\r\n\r\n            let translate_value = self.translateData.min;\r\n            $(self.sliderSelector).append(dotnav_container);\r\n\r\n            $.each(self.slides.object, function (index) {\r\n\r\n                if (translate_value > self.translateData.max) return false;\r\n\r\n                let dot_element = $(\"<span class='slideControl'></span>\");\r\n\r\n                if (index === 0) {\r\n                    dot_element.addClass(\"active\");\r\n                }\r\n\r\n                dot_element.data(\"translate_value\", translate_value);\r\n                if (self.options.desc_block) dot_element.data(\"desc_number\", index);\r\n\r\n                dot_element.click(function () {\r\n\r\n                    if ($(this).hasClass(\"active\")) return 0;\r\n\r\n                    if (self.state !== null) return 0;\r\n                    self.state = 'animated';\r\n\r\n                    dotnav_container.find(\".slideControl\").removeClass(\"active\");\r\n                    $(this).addClass(\"active\");\r\n\r\n                    if ($(this).hasClass('first')) {\r\n                        $(self.sliderSelector).find('.slider-prev').addClass(\"disabled\");\r\n                        $(self.sliderSelector).find('.slider-next').removeClass(\"disabled\");\r\n                    } else if ($(this).hasClass('last')) {\r\n                        $(self.sliderSelector).find('.slider-next').addClass(\"disabled\");\r\n                        $(self.sliderSelector).find('.slider-prev').removeClass(\"disabled\");\r\n                    } else {\r\n                        $(self.sliderSelector).find('.slider-next').removeClass(\"disabled\");\r\n                        $(self.sliderSelector).find('.slider-prev').removeClass(\"disabled\");\r\n                    }\r\n\r\n                    if (self.options.desc_block) activateSlideDesc($(this).data(\"desc_number\"));\r\n\r\n                    if (self.options.debug) console.log(`dotNav call translate(${$(this).data(\"translate_value\")})`);\r\n\r\n                    self.translate = $(this).data(\"translate_value\");\r\n                });\r\n\r\n                dotnav_container.append(dot_element);\r\n                translate_value += self.translateData.step;\r\n\r\n                if (!self.options.infiniteMode && index === 0) {\r\n                    dot_element.addClass(\"first\");\r\n                } else if (!self.options.infiniteMode && translate_value > self.translateData.max) {\r\n                    dot_element.addClass(\"last\");\r\n                }\r\n            });\r\n        }\r\n\r\n        function addSlidesDescData() {\r\n            \"use strict\";\r\n\r\n            if (self.options.debug) console.log(`Call addSlidesDescData()`);\r\n\r\n            let translate_value = self.translateData.min;\r\n            $.each(self.slides.object, function (index, slide) {\r\n\r\n                $(slide).data(\"translate_value\", translate_value);\r\n                $(slide).data(\"number\", index);\r\n\r\n                translate_value += self.translateData.step;\r\n            });\r\n        }\r\n\r\n        function activateSlideDesc(number) {\r\n            \"use strict\";\r\n\r\n            if (self.options.debug) console.log(`Call activateSlideDesc(${number})`);\r\n\r\n            let descClass = '.slide-' + number;\r\n            $(self.sliderSelector).find(\".slide-description.active\").removeClass(\"active\");\r\n            $(descClass).parent().css('min-height', $(descClass).outerHeight(true));\r\n            window.setTimeout(function () {\r\n                $(descClass).addClass('active');\r\n            }, 250);\r\n        }\r\n\r\n        let self = this,\r\n            mc = new Hammer(document.querySelector(this.sliderSelector)),\r\n            dotnav_container = $(\"<div class='dot-nav'></div>\");\r\n\r\n        if (this.slides.count === this.slides.viewed) return 0;\r\n\r\n        if (this.options.arrowNav) {\r\n            if (this.options.debug) console.log(`addNav call addArrowNav()`);\r\n\r\n            addArrowNav();\r\n        }\r\n        if (this.options.dotNav) {\r\n\r\n            if (this.options.debug) console.log(`addNav call addDotNav()`);\r\n\r\n            addDotNav();\r\n        }\r\n        if (this.options.desc_block) {\r\n\r\n            if (this.options.debug) console.log(`addNav call addSlidesDescData()`);\r\n\r\n            addSlidesDescData();\r\n        }\r\n        if (this.options.autoScroll.active) {\r\n\r\n            if (this.options.autoScroll.handle) window.clearInterval(this.options.autoScroll.handle);\r\n\r\n            let isPaused = false, response, moveLeft = true;\r\n\r\n            this.options.autoScroll.handle = window.setInterval(() => {\r\n                if (!isPaused) this.options.autoScroll.counter++;\r\n                if (this.options.autoScroll.counter === this.options.autoScroll.interval) {\r\n\r\n                    if (this.options.debug) console.log(`addNav window.setInterval call moveSlidesLeft()`);\r\n\r\n                    if(moveLeft){\r\n                        response = moveSlidesLeft();\r\n                        if(response === 'stop') moveSlidesRight();\r\n                    }else{\r\n                        response = moveSlidesRight();\r\n                        if(response === 'stop') moveSlidesLeft();\r\n                    }\r\n\r\n                    if(response === 'stop'){\r\n                        moveLeft = !moveLeft;\r\n                    }\r\n\r\n                    this.options.autoScroll.counter = null;\r\n                }\r\n            }, 1000);\r\n\r\n            $(this.sliderSelector).mouseenter(() => isPaused = true);\r\n            $(this.sliderSelector).mouseleave(() => isPaused = false);\r\n        }\r\n\r\n        mc.on(\"swipeleft\", () => {\r\n\r\n            if (this.options.debug) console.log(`addNav swipeleft call moveSlidesLeft()`);\r\n\r\n            moveSlidesLeft();\r\n        });\r\n        mc.on(\"swiperight\", () => {\r\n\r\n            if (this.options.debug) console.log(`addNav swiperight call moveSlidesRight()`);\r\n\r\n            moveSlidesRight();\r\n        });\r\n\r\n    };\r\n\r\n    //Устанавливает параметр translate\r\n    Object.defineProperty(SliderConstructor.prototype, \"translate\", {\r\n\r\n        set: function (value) {\r\n\r\n            if (this.options.debug) console.log(`Call translate(${value})`);\r\n\r\n            this.translateData.value = value;\r\n\r\n            anime({\r\n                targets: this.sliderSelector + \" .slides-container\",\r\n                translateX: -value,\r\n                easing: \"easeInOutQuart\",\r\n                duration: this.options.autoScroll.animation_speed,\r\n                complete: () => {\r\n                    this.state = null;\r\n                    this.setActiveSlides();\r\n                    this.options.autoScroll.counter = 0;\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    //Полная инициализация слайдера\r\n    SliderConstructor.prototype.initializeSlider = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call initializeSlider\");\r\n\r\n        $(this.sliderSelector).removeAttr('style');\r\n        $(this.sliderSelector).css(\"width\", \"100%\");\r\n        $(this.sliderSelector).data(\"initMaxSlideWidth\", this.slides.maxWidth);\r\n\r\n        this.addSliderMarkup();\r\n        this.slides.object = $(this.sliderSelector).find(this.sliderItemSelector);\r\n        this.viewObject = $(this.sliderSelector).find(\".slider-view\");\r\n        this.container = $(this.sliderSelector).find(\".slides-container\");\r\n        //Кол. слайдов\r\n        this.slides.count = this.slides.object.length;\r\n\r\n        //Данные слайдов\r\n        if (this.options.debug) console.log(\"initializeSlider call setSlidesData()\");\r\n        this.setSlidesData();\r\n\r\n        $(this.sliderSelector).data(\"initImageContainerWidth\", this.slides.imageContainerWidth);\r\n        $(this.sliderSelector).data(\"initImageContainerHeight\", this.slides.imageContainerHeight);\r\n        $(this.sliderSelector).data(\"initImageContainerRatio\", this.slides.imageRatio);\r\n\r\n        if (this.options.debug) console.log(`initializeSlider call addViewportListeners()`);\r\n        //Определяет количество отображаемых слайдов\r\n        this.addViewportListeners();\r\n\r\n        //Если не задана ширина слайда\r\n        if (!this.slides.maxWidth) {\r\n            this.slides.maxWidth = this.calculateSlideWidth();\r\n            this.slides.imageContainerWidth = this.slides.maxWidth;\r\n            this.slides.imageContainerHeight = this.slides.imageContainerWidth / this.slides.imageRatio;\r\n            this.setSlidesData();\r\n        }\r\n        if (this.slides.maxWidth && this.slides.imageContainerWidth > this.slides.maxWidth) this.slides.imageContainerWidth = this.slides.maxWidth;\r\n\r\n        //Данные контейнера слайдов\r\n        if (this.options.debug) console.log(\"initializeSlider call setContainerData()\");\r\n        this.setContainerData();\r\n\r\n        //Вешаем обработчики\r\n        if (this.options.debug) console.log(\"initializeSlider call _initListeners()\");\r\n        this._initListeners();\r\n        //Установка активных слайдов\r\n        this.setActiveSlides();\r\n    };\r\n    //Изменение количества отображаемых слайдов\r\n    SliderConstructor.prototype.updateViewData = function (viewed) {\r\n\r\n        if (this.options.debug) console.log(`Call updateViewData(${viewed})`);\r\n\r\n        this.slides.viewed = parseInt(viewed, 10);\r\n\r\n        if (this.options.debug) console.log(\"updateViewData call setViewData()\");\r\n        //Данные области отображения\r\n        this.setViewData();\r\n        if (this.options.debug) console.log(\"updateViewData call calculateSlidesSpacers()\");\r\n        //Расчитываем промежутки мехду слайдами\r\n        this.calculateSlidesSpacers();\r\n        if (this.options.debug) console.log(\"updateViewData call setTranslateData()\");\r\n        //Данные смещение контейнера\r\n        this.setTranslateData();\r\n    };\r\n    //Изменение размера слайдов\r\n    SliderConstructor.prototype.updateSlidesSize = function (maxSlideWidth, maxImageConatinerWidth, maxImageContainerHeight) {\r\n\r\n        if (this.options.debug) console.log(`Call updateSlidesSize(${maxSlideWidth},${maxImageConatinerWidth},${maxImageContainerHeight})`);\r\n\r\n        this.slides.maxWidth = maxSlideWidth;\r\n        this.slides.imageContainerWidth = maxImageConatinerWidth;\r\n        this.slides.imageContainerHeight = maxImageContainerHeight;\r\n\r\n        //Данные слайдов\r\n        if (this.options.debug) console.log(`updateSlidesSize call setSlidesData()`);\r\n        this.setSlidesData();\r\n        //Данные области отображения\r\n        if (this.options.debug) console.log(`updateSlidesSize call setViewData()`);\r\n        this.setViewData();\r\n        //Расчитываем промежутки мехду слайдами\r\n        if (this.options.debug) console.log(`updateSlidesSize call calculateSlidesSpacers()`);\r\n        this.calculateSlidesSpacers();\r\n        //Данные контейнера\r\n        if (this.options.debug) console.log(`updateSlidesSize call setContainerData()`);\r\n        this.setContainerData();\r\n        //Данные смещение контейнера\r\n        if (this.options.debug) console.log(`updateSlidesSize call setTranslateData()`);\r\n        this.setTranslateData();\r\n        //Обновление навигации\r\n        if (this.options.debug) console.log(`updateSlidesSize call updateNav()`);\r\n        this.updateNav();\r\n    };\r\n    //Обновление навигации\r\n    SliderConstructor.prototype.updateNav = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call updateNav\");\r\n\r\n        if (this.options.arrowNav) $(this.sliderSelector).find('.arrow-nav').remove();\r\n        if (this.options.dotNav) $(this.sliderSelector).find('.dot-nav').remove();\r\n\r\n        if (this.options.debug) console.log(`updateNav call addNav()`);\r\n\r\n        this.addNav();\r\n    };\r\n    //Получает размер изображений\r\n    SliderConstructor.prototype.setImageData = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call setImageData\");\r\n\r\n        let maxWidth = 0, maxHeight = 0, minRatio = 9999;\r\n\r\n        $.each(this.slides.object, (index, slide) => {\r\n\r\n            let slide_image = $(slide).find('.image img'),\r\n                image_width = slide_image.attr('width'),\r\n                image_height = slide_image.attr('height'),\r\n                image_ratio = image_width / image_height;\r\n\r\n            if (image_width > maxWidth) maxWidth = image_width;\r\n            if (image_height > maxHeight) maxHeight = image_height;\r\n            if (minRatio > image_ratio) minRatio = image_ratio;\r\n\r\n            slide_image.css({\r\n                maxWidth: image_width + 'px',\r\n                maxHeight: image_height + 'px'\r\n            });\r\n        });\r\n        this.slides.imageContainerWidth = maxWidth;\r\n        this.slides.imageContainerHeight = maxHeight;\r\n        this.slides.imageRatio = minRatio;\r\n    };\r\n    //Вычисляем высоту слайдов\r\n    SliderConstructor.prototype.calculateSlideHeight = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call calculateSlideHeight\");\r\n\r\n        $.each(this.slides.object, (index, slide) => {\r\n\r\n            let height = $(slide).outerHeight(true);\r\n\r\n            if (height > this.slides.maxHeight) this.slides.maxHeight = height;\r\n        });\r\n        this.slides.object.outerHeight(this.slides.maxHeight);\r\n    };\r\n    //Ресайзер слайдера\r\n    SliderConstructor.prototype.sliderResizer = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call sliderResizer\");\r\n\r\n        let calcSlideWidth, calcImageContainerWidth, calcImageContainerHeight,\r\n            initImageContainerWidth = $(this.sliderSelector).data(\"initImageContainerWidth\"),\r\n            initImageContainerHeight = $(this.sliderSelector).data(\"initImageContainerHeight\"),\r\n            initImageContainerRatio = $(this.sliderSelector).data(\"initImageContainerRatio\");\r\n\r\n        calcSlideWidth = this.calculateSlideWidth();\r\n\r\n        if (initImageContainerWidth && initImageContainerHeight) {\r\n            calcImageContainerWidth = initImageContainerWidth;\r\n            calcImageContainerHeight = initImageContainerHeight;\r\n        } else {\r\n            calcImageContainerWidth = this.slides.imageContainerWidth;\r\n            calcImageContainerHeight = this.slides.imageContainerHeight\r\n        }\r\n\r\n        if (calcSlideWidth < calcImageContainerWidth) {\r\n            calcImageContainerWidth = calcSlideWidth;\r\n            calcImageContainerHeight = calcImageContainerWidth / initImageContainerRatio;\r\n        }\r\n\r\n        this.updateSlidesSize(calcSlideWidth, calcImageContainerWidth, calcImageContainerHeight);\r\n    };\r\n    //Изменение количества слайдов в строке в зависимости от ширины экрана\r\n    SliderConstructor.prototype.addViewportListeners = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call addViewportListeners\");\r\n\r\n        this.responsiveData.desktop.width = parseInt(this.responsiveData.desktop.width, 10);\r\n        this.responsiveData.laptop.width = parseInt(this.responsiveData.laptop.width, 10);\r\n        this.responsiveData.tablet.width = parseInt(this.responsiveData.tablet.width, 10);\r\n        this.responsiveData.phone.width = parseInt(this.responsiveData.phone.width, 10);\r\n\r\n        this.responsiveData.desktop.viewed = parseInt(this.responsiveData.desktop.viewed, 10);\r\n        this.responsiveData.laptop.viewed = parseInt(this.responsiveData.laptop.viewed, 10);\r\n        this.responsiveData.tablet.viewed = parseInt(this.responsiveData.tablet.viewed, 10);\r\n        this.responsiveData.phone.viewed = parseInt(this.responsiveData.phone.viewed, 10);\r\n\r\n        let desktop = window.matchMedia(\r\n            \"(min-width: \" + this.responsiveData.desktop.width + \"px)\"\r\n            ),\r\n            laptop = window.matchMedia(\r\n                `(max-width: ${this.responsiveData.laptop.width}px) and (min-width: ${this.responsiveData.tablet.width + 1}px)`\r\n            ),\r\n            tablet = window.matchMedia(\r\n                `(max-width: ${this.responsiveData.tablet.width}px) and (min-width: ${this.responsiveData.phone.width + 1}px)`\r\n            ),\r\n            phone = window.matchMedia(\r\n                `(max-width: ${this.responsiveData.phone.width}px)`\r\n            ),\r\n            checkDesktopQuery = (e) => {\r\n\r\n                if (e.matches) {\r\n\r\n                    if (this.options.debug) console.log(\"addViewportListeners: desktop\");\r\n                    if (this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.desktop.viewed})`);\r\n\r\n                    this.updateViewData(this.responsiveData.desktop.viewed);\r\n                }\r\n            },\r\n            checkLaptopQuery = (e) => {\r\n\r\n                if (e.matches && (this.slides.viewed !== this.responsiveData.laptop.viewed)) {\r\n\r\n                    if (this.options.debug) console.log(\"addViewportListeners: laptop\");\r\n                    if (this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.laptop.viewed})`);\r\n\r\n                    this.updateViewData(this.responsiveData.laptop.viewed);\r\n                }\r\n            },\r\n            checkTabletQuery = (e) => {\r\n\r\n                if (e.matches && (this.slides.viewed !== this.responsiveData.tablet.viewed)) {\r\n\r\n                    if (this.options.debug) console.log(\"addViewportListeners: tablet\");\r\n                    if (this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.tablet.viewed})`);\r\n\r\n                    this.updateViewData(this.responsiveData.tablet.viewed);\r\n                }\r\n            },\r\n            checkPhoneQuery = (e) => {\r\n\r\n                if (e.matches && (this.slides.viewed !== this.responsiveData.phone.viewed)) {\r\n\r\n                    if (this.options.debug) console.log(\"addViewportListeners: phone\");\r\n                    if (this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.phone.viewed})`);\r\n\r\n                    this.updateViewData(this.responsiveData.phone.viewed);\r\n                }\r\n            };\r\n\r\n        if (phone.matches && this.slides.viewed > this.responsiveData.phone.viewed) {\r\n\r\n            if (this.options.debug) console.log(\"addViewportListeners: phone\");\r\n            if (this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.phone.viewed})`);\r\n\r\n            this.updateViewData(this.responsiveData.phone.viewed);\r\n        } else if (tablet.matches && this.slides.viewed > this.responsiveData.tablet.viewed) {\r\n\r\n            if (this.options.debug) console.log(\"addViewportListeners: tablet\");\r\n            if (this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.tablet.viewed})`);\r\n\r\n            this.updateViewData(this.responsiveData.tablet.viewed);\r\n        } else if (laptop.matches && this.slides.viewed > this.responsiveData.laptop.viewed) {\r\n\r\n            if (this.options.debug) console.log(\"addViewportListeners: laptop\");\r\n            if (this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.laptop.viewed})`);\r\n\r\n            this.updateViewData(this.responsiveData.laptop.viewed);\r\n        } else if (desktop.matches) {\r\n\r\n            if (this.options.debug) console.log(\"addViewportListeners: desktop\");\r\n            if (this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.desktop.viewed})`);\r\n\r\n            this.updateViewData(this.responsiveData.desktop.viewed);\r\n        }\r\n\r\n        phone.addListener(checkPhoneQuery);\r\n        tablet.addListener(checkTabletQuery);\r\n        laptop.addListener(checkLaptopQuery);\r\n        desktop.addListener(checkDesktopQuery);\r\n    };\r\n    //Добавление IntersectionObserver для ленивой загрузки\r\n    SliderConstructor.prototype.addIntersectionObserver = function () {\r\n\r\n        if (this.options.debug) console.log(\"Call addIntersectionObserver\");\r\n\r\n        let lazy_flag = true,\r\n            image_observer_callback = (entries, observer) => {\r\n\r\n                entries.forEach((entry) => {\r\n\r\n                    let isIntersecting = entry.isIntersecting;\r\n\r\n                    if (isIntersecting) {\r\n                        this.lazyloadImage(entry.target);\r\n                        if (lazy_flag) {\r\n                            $(entry.target).load(() => {\r\n                                this.slides.maxHeight = this.slides.object.find('img').outerHeight(true);\r\n                                if (this.options.debug) console.log(`addIntersectionObserver image_observer_callback call sliderResizer`);\r\n                                this.sliderResizer();\r\n                            });\r\n                            lazy_flag = false;\r\n                        }\r\n                        observer.disconnect();\r\n                    }\r\n                });\r\n            },\r\n            slider_observer = new IntersectionObserver((entries, observer) => {\r\n\r\n                entries.forEach((entry) => {\r\n\r\n                    let isIntersecting = entry.isIntersecting;\r\n                    if (isIntersecting) {\r\n                        let images = $(this.sliderSelector).find(`${this.sliderItemSelector} img`);\r\n                        $.each(images, (index, image) => {\r\n\r\n                            let image_observer = new IntersectionObserver(image_observer_callback, {\r\n                                root: $(this.sliderSelector).get(0),\r\n                                rootMargin: '200px'\r\n                            });\r\n                            image_observer.observe(image);\r\n                        });\r\n                        observer.disconnect();\r\n                    }\r\n                });\r\n            }, {\r\n                rootMargin: '200px'\r\n            });\r\n\r\n        slider_observer.observe(document.querySelector(this.sliderSelector));\r\n    };\r\n    //Ленивая загрузка изображения\r\n    SliderConstructor.prototype.lazyloadImage = function (image) {\r\n\r\n        $(image).attr('src', $(image).data('src'));\r\n        $(image).attr('srcset', $(image).data('srcset'));\r\n        $(image).attr('sizes', $(image).data('sizes'));\r\n    };\r\n    //Функция подсчета ширины слайда\r\n    SliderConstructor.prototype.calculateSlideWidth = function () {\r\n\r\n        let sliderWidth = $(this.sliderSelector).width(),\r\n            initMaxSlideWidth = $(this.sliderSelector).data(\"initMaxSlideWidth\"),\r\n            slideWidth;\r\n\r\n        slideWidth = Math.floor(sliderWidth / this.slides.viewed - this.spacers.min_width + Math.floor(this.spacers.min_width / this.slides.viewed));\r\n\r\n        if (initMaxSlideWidth && slideWidth > initMaxSlideWidth) return initMaxSlideWidth;\r\n\r\n        return slideWidth;\r\n    };\r\n    //Вешает на видимые слайды класс active\r\n    //TODO В шаблоне popup при инициализации слайдера слайды имеют одинаковые координаты(из-за тега <a>),\r\n    // из-за чего всем присваивается класс active\r\n    SliderConstructor.prototype.setActiveSlides = function(){\r\n\r\n        let sliderViewCoords = this.viewObject[0].getBoundingClientRect().x,\r\n            minSlideCoords = sliderViewCoords,\r\n            maxSlideCoords = sliderViewCoords + this.viewWidth;\r\n\r\n        $(this.sliderSelector).find(`${this.sliderItemSelector}.active`).removeClass(\"active\");\r\n\r\n        $.each($(this.slides.object), (index, slide) => {\r\n\r\n            let slideCoords = slide.getBoundingClientRect().x;\r\n\r\n            if (slideCoords >= minSlideCoords && slideCoords < maxSlideCoords) {\r\n                $(slide).addClass('active');\r\n            }\r\n        });\r\n    };\r\n    /***************************Инициализация слайдера***************************************/\r\n    slider.initializeSlider();\r\n\r\n    return {\r\n        resize: () => {\r\n            console.log('SeoClick slider resize call');\r\n            slider.sliderResizer();\r\n        },\r\n        setViewItems: (viewed) => {\r\n            console.log('SeoClick slider setViewItems call');\r\n            slider.updateViewData(viewed);\r\n            slider.sliderResizer();\r\n        }\r\n    };\r\n};"]}