{"version":3,"sources":["../../sources/js/seoclickSlider.js"],"names":["SeoClickSlider","params","$","jQuery","slider","SliderConstructor","id","viewed","spacerMinWidth","imageWidth","imageHeight","slideWidth","arrowNav","dotNav","arrowsMarkup","desc_block","infiniteMode","autoScroll","animation_speed","lazy_load","responsiveData","phone","debug","arg","state","container","containerWidth","viewWidth","viewHeight","translateData","value","min","max","step","slides","object","count","parseInt","imageRatio","maxWidth","maxHeight","spacers","width","min_width","desktop","laptop","tablet","options","handle","counter","active","interval","prototype","setSlidesData","console","log","find","length","getImagesSizes","outerWidth","outerHeight","css","calculateSlideHeight","setViewData","sliderView","calculateSlidesSpacers","setContainerData","each","index","slide","setTranslateData","Math","ceil","_initListeners","addViewportListeners","window","IntersectionObserverEntry","addIntersectionObserver","images","image","lazyloadImage","sliderResizer","on","addNav","moveSlidesLeft","self","x","dotnav_container","addClass","removeClass","active_dot","next","translate","data","activateSlideDesc","moveSlidesRight","prev","addArrowNav","extraClass","markup","left","right","append","click","hasClass","addDotNav","translate_value","dot_element","addSlidesDescData","number","descClass","parent","setTimeout","slice","mc","Hammer","document","getElementById","clearInterval","isPaused","setInterval","mouseenter","mouseleave","Object","defineProperty","set","set_active_slide","getBoundingClientRect","anime","targets","translateX","easing","duration","complete","initializeSlider","calculateSlideWidth","updateNav","updateViewData","updateSlidesSize","maxSlideWidth","maxImageWidth","maxImageHeight","remove","img","Image","addEventListener","naturalWidth","naturalHeight","src","attr","height","calcSlideWidth","calcImageWidth","calcImageHeight","initSlideWidth","initImageWidth","initImageToSlideWidthRatio","slidesWidthDifference","matchMedia","checkDesktopQuery","e","matches","checkLaptopQuery","checkTabletQuery","checkPhoneQuery","addListener","lazy_flag","image_observer_callback","entries","observer","forEach","entry","isIntersecting","target","load","disconnect","slider_observer","IntersectionObserver","image_observer","root","get","rootMargin","observe","sliderWidth"],"mappings":"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","file":"seoclickSlider.js","sourcesContent":["//TODO сейчас высоту слайдов расчитывает по первому изображению в слайде. При использовании иходного изображения с разными размерами происходит их растяжка с нарушением пропорций. Попробовать исправить.\r\n//TODO попробовать сделать оптимизацию вызовов функций\r\nlet SeoClickSlider = function (params) {\r\n\r\n    let $ = jQuery;\r\n\r\n    let slider = new SliderConstructor({\r\n        id: params.id,\r\n        viewed: params.viewed,\r\n        spacerMinWidth: params.spacerMinWidth,\r\n        imageWidth: params.imageWidth,\r\n        imageHeight: params.imageHeight,\r\n        slideWidth: params.slideWidth,\r\n        arrowNav: params.arrowNav,\r\n        dotNav: params.dotNav,\r\n        arrowsMarkup: params.arrowsMarkup,\r\n        desc_block: params.desc_block,\r\n        infiniteMode: params.infiniteMode,\r\n        autoScroll: params.autoScroll,\r\n        animation_speed: params.animation_speed,\r\n        lazy_load: params.lazy_load,\r\n        responsiveData: params.responsiveData,\r\n        phone: params.phone,\r\n        debug: params.debug\r\n    });\r\n\r\n    function SliderConstructor(arg) {\r\n        this.id = arg.id;\r\n        this.state = null;\r\n        this.container = null;\r\n        this.containerWidth = null;\r\n        this.viewWidth = null;\r\n        this.viewHeight = null;\r\n        this.translateData = {\r\n            value: null,\r\n            min: null,\r\n            max: null,\r\n            step: null\r\n        };\r\n        this.slides = {\r\n            object: null,\r\n            count: null,\r\n            viewed: +arg.viewed,\r\n            imageWidth: parseInt(arg.imageWidth, 10),\r\n            imageHeight: parseInt(arg.imageHeight, 10),\r\n            imageRatio: null,\r\n            maxWidth: parseInt(arg.slideWidth, 10),\r\n            maxHeight: null\r\n        };\r\n        this.spacers = {\r\n            count: null,\r\n            width: null,\r\n            min_width: parseInt(arg.spacerMinWidth, 10)\r\n        };\r\n        this.responsiveData = {\r\n            desktop: arg.responsiveData.desktop,\r\n            laptop: arg.responsiveData.laptop,\r\n            tablet: arg.responsiveData.tablet,\r\n            phone: arg.responsiveData.phone\r\n        };\r\n        this.options = {\r\n            arrowNav: arg.arrowNav,\r\n            dotNav: arg.dotNav,\r\n            arrowsMarkup: arg.arrowsMarkup,\r\n            desc_block: arg.desc_block,\r\n            infiniteMode: arg.infiniteMode,\r\n            autoScroll: {\r\n                handle: null,\r\n                counter: 0,\r\n                active: arg.autoScroll.active,\r\n                interval: parseInt(arg.autoScroll.interval, 10),\r\n                animation_speed: parseInt(arg.autoScroll.animation_speed, 10)\r\n            },\r\n            lazy_load: arg.lazy_load,\r\n            debug: arg.debug\r\n        };\r\n    }\r\n\r\n    SliderConstructor.prototype.setSlidesData = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call setSlidesData\");\r\n\r\n        this.slides.object = $(this.id).find(\".slide\");\r\n        //Кол. слайдов\r\n        this.slides.count = this.slides.object.length;\r\n\r\n        //Размер изображений\r\n        if (this.slides.object.find('.image img').length && (!this.slides.imageWidth || !this.slides.imageHeight)) {\r\n\r\n            if(this.options.debug) console.log(`setSlidesData call getImagesSizes()`);\r\n\r\n            this.getImagesSizes();\r\n            return 0\r\n        }\r\n\r\n        this.slides.object.find('.image img').outerWidth(this.slides.imageWidth);\r\n        this.slides.object.find('.image img').outerHeight(this.slides.imageHeight);\r\n\r\n        if (this.slides.maxWidth === null) {\r\n            this.slides.maxWidth = this.slides.object.outerWidth();\r\n        }\r\n        this.slides.object.css(\"height\", '');\r\n        this.slides.object.outerWidth(this.slides.maxWidth);\r\n\r\n        this.slides.maxHeight = this.slides.object.outerHeight();\r\n\r\n        if(this.options.debug) console.log(`setSlidesData call calculateSlideHeight()`);\r\n\r\n        this.calculateSlideHeight();\r\n    };\r\n    SliderConstructor.prototype.setViewData = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call setViewData\");\r\n\r\n        let sliderView = $(this.id).find(\".slider-view\");\r\n\r\n        sliderView.css(\"width\", '');\r\n\r\n        if(this.slides.viewed === 1){\r\n            this.viewWidth = this.slides.maxWidth;\r\n        }else{\r\n            this.viewWidth = sliderView.width();\r\n        }\r\n\r\n        this.viewHeight = this.slides.maxHeight;\r\n        sliderView.width(this.viewWidth).outerHeight(this.viewHeight);\r\n    };\r\n    SliderConstructor.prototype.calculateSlidesSpacers = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call calculateSlidesSpacers\");\r\n\r\n        if (this.slides.viewed !== 1) {\r\n            this.spacers.width = (this.viewWidth - this.slides.maxWidth * this.slides.viewed) / (this.slides.viewed - 1);\r\n            this.spacers.count = this.slides.count - 1;\r\n            if (this.spacers.width < this.spacers.min_width){\r\n\r\n                this.spacers.width = this.spacers.min_width;\r\n                this.slides.maxWidth = this.slides.maxWidth - (this.spacers.min_width / this.slides.viewed * (this.slides.viewed - 1));\r\n                if(this.slides.imageWidth > this.slides.maxWidth){\r\n                    this.slides.imageWidth = this.slides.maxWidth;\r\n                    this.slides.imageHeight = this.slides.imageWidth / this.slides.imageRatio;\r\n                }\r\n\r\n                if(this.options.debug) console.log(`calculateSlidesSpacers call setSlidesData()`);\r\n\r\n                this.setSlidesData();\r\n            }\r\n        } else {\r\n            this.spacers.width = 0;\r\n            this.spacers.count = 0;\r\n        }\r\n    };\r\n    SliderConstructor.prototype.setContainerData = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call setContainerData\");\r\n\r\n        this.containerWidth = this.slides.maxWidth * this.slides.count + this.spacers.count * this.spacers.width;\r\n        this.container = $(this.id).find(\".slides-container\");\r\n        this.container.width(this.containerWidth);\r\n        $.each(this.slides.object, (index, slide) => {\r\n            if (index !== this.slides.count - 1) {\r\n                $(slide).css(\"margin-right\", this.spacers.width);\r\n            }\r\n        });\r\n    };\r\n    SliderConstructor.prototype.setTranslateData = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call setTranslateData\");\r\n\r\n        this.translateData.min = 0;\r\n        this.translateData.value = this.translateData.min;\r\n        this.container.css(\"transform\", \"translateX(\" + this.translateData.value + \"px)\");\r\n        if (this.slides.viewed === 1) {\r\n            this.translateData.step = this.viewWidth;\r\n        } else {\r\n            this.translateData.step = this.viewWidth + this.spacers.width;\r\n        }\r\n        this.translateData.max = (Math.ceil(this.slides.count / this.slides.viewed) - 1) * this.translateData.step;\r\n    };\r\n    SliderConstructor.prototype._initListeners = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call _initListeners\");\r\n\r\n        if(this.options.debug) console.log(`_initListeners call addViewportListeners()`);\r\n\r\n        this.addViewportListeners();\r\n\r\n        if (this.options.lazy_load && 'IntersectionObserver' in window &&\r\n            'IntersectionObserverEntry' in window &&\r\n            'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\r\n\r\n            if(this.options.debug) console.log(`_initListeners call addIntersectionObserver()`);\r\n\r\n            this.addIntersectionObserver();\r\n        } else if (this.options.lazy_load) {\r\n            let images = $(this.id).find('.slide img');\r\n\r\n            $.each(images, (index, image) => {\r\n                this.lazyloadImage(image);\r\n            });\r\n        }\r\n\r\n        if(this.options.debug) console.log(`_initListeners call sliderResizer()`);\r\n\r\n        this.sliderResizer();\r\n        $(window).on('load resize', ()=>{\r\n\r\n            if(this.options.debug) console.log(`_initListeners window load or resize call sliderResizer()`);\r\n            this.sliderResizer();\r\n        });\r\n    };\r\n    SliderConstructor.prototype.addNav = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call addNav\");\r\n\r\n        function moveSlidesLeft() {\r\n\r\n            if (self.state !== null) return 0;\r\n\r\n            if(self.options.debug) console.log(`Call moveSlidesLeft()`);\r\n\r\n            self.state = 'animated';\r\n\r\n            let x = self.translateData.value + self.translateData.step,\r\n                dotnav_container = $(self.id).find(\".dot-nav\");\r\n\r\n            if (x <= self.translateData.max) {\r\n                if (self.options.arrowNav && !self.options.infiniteMode) {\r\n                    if (x === self.translateData.max) {\r\n                        $(self.id).find('.slider-next').addClass(\"disabled\");\r\n                    } else {\r\n                        $(self.id).find('.slider-next').removeClass(\"disabled\");\r\n                        $(self.id).find('.slider-prev').removeClass(\"disabled\");\r\n                    }\r\n                }\r\n                if (self.options.dotNav) {\r\n                    let active_dot = dotnav_container.find(\".active\").removeClass(\"active\");\r\n                    active_dot.next().addClass(\"active\");\r\n                }\r\n                if (self.options.desc_block) {\r\n                    $.each(self.slides.object, function (index, slide) {\r\n                        \"use strict\";\r\n                        let translate = $(slide).data(\"translate_value\");\r\n                        if (translate === x) {\r\n\r\n                            if(self.options.debug) console.log(`moveSlidesLeft call activateSlideDesc(${$(slide).data(\"number\")})`);\r\n\r\n                            activateSlideDesc($(slide).data(\"number\"));\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if(self.options.debug) console.log(`moveSlidesLeft call translate(${x})`);\r\n\r\n                self.translate = x;\r\n            } else if (self.options.infiniteMode) {\r\n                if (self.options.dotNav) {\r\n                    dotnav_container.find(\".active\").removeClass(\"active\");\r\n                    dotnav_container.find(\"span:first-child\").addClass(\"active\");\r\n                }\r\n                if (self.options.desc_block) {\r\n                    $.each(self.slides.object, function (index, slide) {\r\n                        \"use strict\";\r\n                        let translate = $(slide).data(\"translate_value\");\r\n                        if (translate === self.translateData.min) {\r\n\r\n                            if(self.options.debug) console.log(`moveSlidesLeft call activateSlideDesc(${$(slide).data(\"number\")})`);\r\n\r\n                            activateSlideDesc($(slide).data(\"number\"));\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if(self.options.debug) console.log(`moveSlidesLeft call translate(${self.translateData.min})`);\r\n\r\n                self.translate = self.translateData.min;\r\n            }\r\n        }\r\n\r\n        function moveSlidesRight() {\r\n\r\n            if (self.state !== null) return 0;\r\n\r\n            if(self.options.debug) console.log(`Call moveSlidesRight`);\r\n\r\n            self.state = 'animated';\r\n\r\n            let x = self.translateData.value - self.translateData.step,\r\n                dotnav_container = $(self.id).find(\".dot-nav\");\r\n\r\n            if (x >= self.translateData.min) {\r\n                if (self.options.arrowNav && !self.options.infiniteMode) {\r\n                    if (x === self.translateData.min) {\r\n                        $(self.id).find('.slider-prev').addClass(\"disabled\");\r\n                    } else {\r\n                        $(self.id).find('.slider-next').removeClass(\"disabled\");\r\n                        $(self.id).find('.slider-prev').removeClass(\"disabled\");\r\n                    }\r\n                }\r\n                if (self.options.dotNav) {\r\n                    let active_dot = dotnav_container.find(\".active\").removeClass(\"active\");\r\n                    active_dot.prev().addClass(\"active\");\r\n                }\r\n                if (self.options.desc_block) {\r\n                    $.each(self.slides.object, function (index, slide) {\r\n                        \"use strict\";\r\n                        let translate = $(slide).data(\"translate_value\");\r\n                        if (translate === x) {\r\n\r\n                            if(self.options.debug) console.log(`moveSlidesRight call activateSlideDesc(${$(slide).data(\"number\")})`);\r\n\r\n                            activateSlideDesc($(slide).data(\"number\"));\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if(self.options.debug) console.log(`moveSlidesRight call translate(${x})`);\r\n\r\n                self.translate = x;\r\n            } else if (self.options.infiniteMode) {\r\n                if (self.options.dotNav) {\r\n                    dotnav_container.find(\".active\").removeClass(\"active\");\r\n                    dotnav_container.find(\"span:last-child\").addClass(\"active\");\r\n                }\r\n                if (self.options.desc_block) {\r\n                    $.each(self.slides.object, function (index, slide) {\r\n                        \"use strict\";\r\n                        let translate = $(slide).data(\"translate_value\");\r\n                        if (translate === self.translateData.max) {\r\n\r\n                            if(self.options.debug) console.log(`moveSlidesRight call activateSlideDesc(${$(slide).data(\"number\")})`);\r\n\r\n                            activateSlideDesc($(slide).data(\"number\"));\r\n                            return false;\r\n                        }\r\n                    });\r\n                }\r\n\r\n                if(self.options.debug) console.log(`moveSlidesRight call translate(${self.translateData.max})`);\r\n\r\n                self.translate = self.translateData.max;\r\n            }\r\n        }\r\n\r\n        function addArrowNav() {\r\n            \"use strict\";\r\n\r\n            if(self.options.debug) console.log(`Call addArrowNav()`);\r\n\r\n            let extraClass = '', markup;\r\n\r\n            if (!self.options.infiniteMode) extraClass = 'disabled';\r\n\r\n            if (!self.options.arrowsMarkup) {\r\n                markup = `<div class=\"arrow-nav\">\r\n                            <div class=\"slider-prev ${extraClass}\">\r\n                                <i class=\"fa fa-angle-left fa-4x\" aria-hidden=\"true\"></i>\r\n                            </div>\r\n                            <div class=\"slider-next\">\r\n                                <i class=\"fa fa-angle-right fa-4x\" aria-hidden=\"true\"></i>\r\n                            </div>\r\n                          </div>`;\r\n            } else {\r\n                markup = `<div class=\"arrow-nav\">\r\n                            <div class=\"slider-prev ${extraClass}\">\r\n                                ${self.options.arrowsMarkup.left}\r\n                            </div>\r\n                            <div class=\"slider-next\">\r\n                                ${self.options.arrowsMarkup.right}\r\n                            </div>\r\n                          </div>`;\r\n            }\r\n\r\n\r\n            $(self.id).append(markup);\r\n            $(self.id).find(\".arrow-nav > div\").click(function () {\r\n\r\n                if ($(this).hasClass(\"slider-next\")) {\r\n\r\n                    if(self.options.debug) console.log(`arrowNav call moveSlidesLeft`);\r\n\r\n                    moveSlidesLeft();\r\n                } else {\r\n\r\n                    if(self.options.debug) console.log(`arrowNav call moveSlidesRight`);\r\n\r\n                    moveSlidesRight();\r\n                }\r\n            });\r\n        }\r\n\r\n        function addDotNav() {\r\n            \"use strict\";\r\n\r\n            if(self.options.debug) console.log(`Call addDotNav()`);\r\n\r\n            let translate_value = self.translateData.min;\r\n            $(self.id).append(dotnav_container);\r\n\r\n            $.each(self.slides.object, function (index) {\r\n\r\n                if (translate_value > self.translateData.max) return 1;\r\n\r\n                let dot_element = $(\"<span class='slideControl'></span>\");\r\n\r\n                if (index === 0) {\r\n                    dot_element.addClass(\"active\");\r\n                }\r\n\r\n                dot_element.data(\"translate_value\", translate_value);\r\n                if (self.options.desc_block) dot_element.data(\"desc_number\", index);\r\n\r\n                dot_element.click(function () {\r\n\r\n                    if ($(this).hasClass(\"active\")) return 0;\r\n\r\n                    if (self.state !== null) return 0;\r\n                    self.state = 'animated';\r\n\r\n                    dotnav_container.find(\".slideControl\").removeClass(\"active\");\r\n                    $(this).addClass(\"active\");\r\n\r\n                    if (self.options.desc_block) activateSlideDesc($(this).data(\"desc_number\"));\r\n\r\n                    if(self.options.debug) console.log(`dotNav call translate(${$(this).data(\"translate_value\")})`);\r\n\r\n                    self.translate = $(this).data(\"translate_value\");\r\n                });\r\n\r\n                dotnav_container.append(dot_element);\r\n                translate_value += self.translateData.step;\r\n            });\r\n        }\r\n\r\n        function addSlidesDescData() {\r\n            \"use strict\";\r\n\r\n            if(self.options.debug) console.log(`Call addSlidesDescData()`);\r\n\r\n            let translate_value = self.translateData.min;\r\n            $.each(self.slides.object, function (index, slide) {\r\n\r\n                $(slide).data(\"translate_value\", translate_value);\r\n                $(slide).data(\"number\", index);\r\n\r\n                translate_value += self.translateData.step;\r\n            });\r\n        }\r\n\r\n        function activateSlideDesc(number) {\r\n            \"use strict\";\r\n\r\n            if(self.options.debug) console.log(`Call activateSlideDesc(${number})`);\r\n\r\n            let descClass = '.slide-' + number;\r\n            $(self.id).find(\".slide-description.active\").removeClass(\"active\");\r\n            $(descClass).parent().css('min-height', $(descClass).outerHeight(true));\r\n            window.setTimeout(function () {\r\n                $(descClass).addClass('active');\r\n            }, 250);\r\n        }\r\n\r\n        let id = this.id.slice(1),\r\n            self = this,\r\n            mc = new Hammer(document.getElementById(id)),\r\n            dotnav_container = $(\"<div class='dot-nav'></div>\");\r\n\r\n        if(this.slides.count === this.slides.viewed) return 0;\r\n\r\n        if (this.options.arrowNav){\r\n            if(this.options.debug) console.log(`addNav call addArrowNav()`);\r\n\r\n            addArrowNav();\r\n        }\r\n        if (this.options.dotNav){\r\n\r\n            if(this.options.debug) console.log(`addNav call addDotNav()`);\r\n\r\n            addDotNav();\r\n        }\r\n        if (this.options.desc_block){\r\n\r\n            if(this.options.debug) console.log(`addNav call addSlidesDescData()`);\r\n\r\n            addSlidesDescData();\r\n        }\r\n        if (this.options.autoScroll.active) {\r\n\r\n            if(this.options.autoScroll.handle) window.clearInterval(this.options.autoScroll.handle);\r\n\r\n            let isPaused = false;\r\n\r\n            this.options.autoScroll.handle = window.setInterval(() => {\r\n                if(!isPaused) this.options.autoScroll.counter++;\r\n                if (this.options.autoScroll.counter === this.options.autoScroll.interval){\r\n\r\n                    if(this.options.debug) console.log(`addNav window.setInterval call moveSlidesLeft()`);\r\n\r\n                    moveSlidesLeft();\r\n                    this.options.autoScroll.counter = null;\r\n                }\r\n            }, 1000);\r\n\r\n            $(this.id).mouseenter(() => isPaused = true);\r\n            $(this.id).mouseleave(() => isPaused = false);\r\n        }\r\n\r\n        mc.on(\"swipeleft\", ()=>{\r\n\r\n            if(this.options.debug) console.log(`addNav swipeleft call moveSlidesLeft()`);\r\n\r\n            moveSlidesLeft();\r\n        });\r\n        mc.on(\"swiperight\", ()=>{\r\n\r\n            if(this.options.debug) console.log(`addNav swiperight call moveSlidesRight()`);\r\n\r\n            moveSlidesRight();\r\n        });\r\n\r\n    };\r\n\r\n    //Устанавливает параметр translate\r\n    Object.defineProperty(SliderConstructor.prototype, \"translate\", {\r\n        set: function (value) {\r\n\r\n            if(this.options.debug) console.log(`Call translate(${value})`);\r\n\r\n            let set_active_slide = ()=>{\r\n\r\n                $(this.id).find(\".slide.active\").removeClass(\"active\");\r\n\r\n                $.each($(this.slides.object), function(index, slide){\r\n\r\n                    if(slide.getBoundingClientRect().x === 0){\r\n                        $(slide).addClass('active');\r\n\r\n                        return false;\r\n                    }\r\n                });\r\n            };\r\n\r\n            this.translateData.value = value;\r\n\r\n            anime({\r\n                targets: this.id + \" .slides-container\",\r\n                translateX: -value,\r\n                easing: \"easeInOutQuart\",\r\n                duration: this.options.autoScroll.animation_speed,\r\n                complete: ()=> {\r\n                    this.state = null;\r\n                    set_active_slide();\r\n                    this.options.autoScroll.counter = 0;\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    //Полная инициализация слайдера\r\n    SliderConstructor.prototype.initializeSlider = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call initializeSlider\");\r\n\r\n        //Данные слайдов\r\n        if(this.options.debug) console.log(\"initializeSlider call setSlidesData()\");\r\n        this.setSlidesData();\r\n\r\n        if (this.slides.object.find('.image img').length && (!this.slides.imageWidth || !this.slides.imageHeight)) return 0;\r\n\r\n        this.slides.imageRatio = this.slides.imageWidth / this.slides.imageHeight;\r\n\r\n        //Данные области отображения\r\n        if(this.options.debug) console.log(\"initializeSlider call setViewData()\");\r\n        this.setViewData();\r\n        //Расчитываем промежутки мехду слайдами\r\n        if(this.options.debug) console.log(\"initializeSlider call calculateSlidesSpacers()\");\r\n        this.calculateSlidesSpacers();\r\n        //Данные контейнера слайдов\r\n        if(this.options.debug) console.log(\"initializeSlider call setContainerData()\");\r\n        this.setContainerData();\r\n        //Данные смещение контейнера\r\n        if(this.options.debug) console.log(\"initializeSlider call setTranslateData()\");\r\n        this.setTranslateData();\r\n\r\n        if(!this.slides.maxWidth){\r\n            this.slides.maxWidth = this.calculateSlideWidth();\r\n            this.slides.imageWidth = this.slides.maxWidth;\r\n            this.slides.imageHeight = this.slides.imageWidth / this.slides.imageRatio;\r\n        }\r\n        $(this.id).data(\"viewed\", this.slides.viewed);\r\n        if(this.slides.maxWidth && this.slides.imageWidth > this.slides.maxWidth) this.slides.imageWidth = this.slides.maxWidth;\r\n        $(this.id).data(\"initSlideWidth\", this.slides.maxWidth);\r\n        $(this.id).data(\"initImageWidth\", this.slides.imageWidth);\r\n        $(this.id).data(\"initImageHeight\", this.slides.imageHeight);\r\n\r\n        //Вешаем обработчики\r\n        if(this.options.debug) console.log(\"initializeSlider call _initListeners()\");\r\n        this._initListeners();\r\n        //Обновление навигации\r\n        if(this.options.debug) console.log(\"initializeSlider call updateNav()\");\r\n        this.updateNav();\r\n    };\r\n    //Изменение количества отображаемых слайдов\r\n    SliderConstructor.prototype.updateViewData = function (viewed) {\r\n\r\n        if(this.options.debug) console.log(`Call updateViewData(${viewed})`);\r\n\r\n        this.slides.viewed = parseInt(viewed, 10);\r\n\r\n        if(this.options.debug) console.log(\"updateViewData call setViewData()\");\r\n        this.setViewData();\r\n        //Расчитываем промежутки мехду слайдами\r\n        if(this.options.debug) console.log(\"updateViewData call calculateSlidesSpacers()\");\r\n        this.calculateSlidesSpacers();\r\n        if(this.options.debug) console.log(\"updateViewData call setTranslateData()\");\r\n        this.setTranslateData();\r\n    };\r\n    //Изменение размера слайдов\r\n    SliderConstructor.prototype.updateSlidesSize = function (maxSlideWidth, maxImageWidth, maxImageHeight) {\r\n\r\n        if(this.options.debug) console.log(`Call updateSlidesSize(${maxSlideWidth},${maxImageWidth},${maxImageHeight})`);\r\n\r\n        this.slides.maxWidth = maxSlideWidth;\r\n        this.slides.imageWidth = maxImageWidth;\r\n        this.slides.imageHeight = maxImageHeight;\r\n\r\n        //Данные слайдов\r\n        if(this.options.debug) console.log(`updateSlidesSize call setSlidesData()`);\r\n        this.setSlidesData();\r\n        //Данные области отображения\r\n        if(this.options.debug) console.log(`updateSlidesSize call setViewData()`);\r\n        this.setViewData();\r\n        //Расчитываем промежутки мехду слайдами\r\n        if(this.options.debug) console.log(`updateSlidesSize call calculateSlidesSpacers()`);\r\n        this.calculateSlidesSpacers();\r\n        //Данные контейнера\r\n        if(this.options.debug) console.log(`updateSlidesSize call setContainerData()`);\r\n        this.setContainerData();\r\n        //Данные смещение контейнера\r\n        if(this.options.debug) console.log(`updateSlidesSize call setTranslateData()`);\r\n        this.setTranslateData();\r\n        //Обновление навигации\r\n        if(this.options.debug) console.log(`updateSlidesSize call updateNav()`);\r\n        this.updateNav();\r\n    };\r\n    //Обновление навигации\r\n    SliderConstructor.prototype.updateNav = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call updateNav\");\r\n\r\n        if (this.options.arrowNav) $(this.id).find('.arrow-nav').remove();\r\n        if (this.options.dotNav) $(this.id).find('.dot-nav').remove();\r\n\r\n        if(this.options.debug) console.log(`updateNav call addNav()`);\r\n\r\n        this.addNav();\r\n    };\r\n    //Получает размер изображений\r\n    SliderConstructor.prototype.getImagesSizes = function(){\r\n\r\n        if(this.options.debug) console.log(\"Call getImagesSizes\");\r\n\r\n        let slider = this;\r\n\r\n        let img = new Image();\r\n        img.addEventListener(\"load\", function () {\r\n\r\n            slider.slides.imageWidth = this.naturalWidth;\r\n            slider.slides.imageHeight = this.naturalHeight;\r\n            window.setTimeout(()=>$(slider.slides.object[0]).addClass('active'), 1000);\r\n\r\n            if(slider.options.debug) console.log(`getImagesSizes img.lod call initializeSlider()`);\r\n\r\n            slider.initializeSlider();\r\n        });\r\n        if (this.options.lazy_load){\r\n            img.src = this.slides.object.find('.image img').data('src');\r\n        }else{\r\n            img.src = this.slides.object.find('.image img').attr('src');\r\n        }\r\n    };\r\n    //Вычисляем высоту слайдов\r\n    SliderConstructor.prototype.calculateSlideHeight = function () {\r\n\r\n        if(this.options.debug) console.log(\"Call calculateSlideHeight\");\r\n\r\n        $.each(this.slides.object, (index, slide) => {\r\n\r\n            let height = $(slide).outerHeight(true);\r\n\r\n            if (height > this.slides.maxHeight) this.slides.maxHeight = height;\r\n        });\r\n        this.slides.object.outerHeight(this.slides.maxHeight);\r\n    };\r\n    //Ресайзер слайдера\r\n    SliderConstructor.prototype.sliderResizer = function(){\r\n\r\n        if(this.options.debug) console.log(\"Call sliderResizer\");\r\n\r\n        let calcSlideWidth, calcImageWidth, calcImageHeight,\r\n            initSlideWidth = $(this.id).data(\"initSlideWidth\"),\r\n            initImageWidth = $(this.id).data(\"initImageWidth\"),\r\n            initImageToSlideWidthRatio = initSlideWidth / initImageWidth;\r\n\r\n        calcSlideWidth = this.calculateSlideWidth();\r\n        if(initSlideWidth && calcSlideWidth > initSlideWidth) calcSlideWidth = initSlideWidth;\r\n\r\n        let slidesWidthDifference = initSlideWidth - calcSlideWidth;\r\n\r\n        if (slidesWidthDifference < this.spacers.width && slidesWidthDifference > 0 && this.spacers.width > this.spacers.min_width) {\r\n            if(this.options.debug) console.log(`sliderResizer call updateSlidesSize(${this.slides.maxWidth},${this.slides.imageWidth},${this.slides.imageHeight})`);\r\n            this.updateSlidesSize(this.slides.maxWidth, this.slides.imageWidth, this.slides.imageHeight);\r\n        } else {\r\n            calcImageWidth = calcSlideWidth / initImageToSlideWidthRatio;\r\n            calcImageHeight = calcImageWidth / this.slides.imageRatio;\r\n            if(this.options.debug) console.log(`sliderResizer call updateSlidesSize(${calcSlideWidth},${calcImageWidth},${calcImageHeight})`);\r\n            this.updateSlidesSize(calcSlideWidth, calcImageWidth, calcImageHeight);\r\n        }\r\n    };\r\n    //Изменение количества слайдов в строке в зависимости от ширины экрана\r\n    SliderConstructor.prototype.addViewportListeners = function(){\r\n\r\n        if(this.options.debug) console.log(\"Call addViewportListeners\");\r\n\r\n        let desktop = window.matchMedia(\r\n            \"(min-width: \" + this.responsiveData.desktop.width + \"px)\"\r\n            ),\r\n            laptop = window.matchMedia(\r\n                `(max-width: ${this.responsiveData.laptop.width}px) and (min-width: ${this.responsiveData.tablet.width + 1}px)`\r\n            ),\r\n            tablet = window.matchMedia(\r\n                `(max-width: ${this.responsiveData.tablet.width}px) and (min-width: ${this.responsiveData.phone.width + 1}px)`\r\n            ),\r\n            phone = window.matchMedia(\r\n                `(max-width: ${this.responsiveData.phone.width}px)`\r\n            ),\r\n            checkDesktopQuery = (e) => {\r\n\r\n                if (e.matches) {\r\n\r\n                    if(this.options.debug) console.log(\"addViewportListeners: desktop\");\r\n                    if(this.options.debug) console.log(`addViewportListeners call updateViewData(${$(this.id).data(\"viewed\")})`);\r\n\r\n                    this.updateViewData($(this.id).data(\"viewed\"));\r\n                }\r\n            },\r\n            checkLaptopQuery = (e) => {\r\n\r\n                if (e.matches && (this.slides.viewed !== this.responsiveData.laptop.viewed)) {\r\n\r\n                    if(this.options.debug) console.log(\"addViewportListeners: laptop\");\r\n                    if(this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.laptop.viewed})`);\r\n\r\n                    this.updateViewData(this.responsiveData.laptop.viewed);\r\n                }\r\n            },\r\n            checkTabletQuery = (e) => {\r\n\r\n                if (e.matches && (this.slides.viewed !== this.responsiveData.tablet.viewed)) {\r\n\r\n                    if(this.options.debug) console.log(\"addViewportListeners: tablet\");\r\n                    if(this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.tablet.viewed})`);\r\n\r\n                    this.updateViewData(this.responsiveData.tablet.viewed);\r\n                }\r\n            },\r\n            checkPhoneQuery = (e) => {\r\n\r\n                if (e.matches && (this.slides.viewed !== this.responsiveData.phone.viewed)) {\r\n\r\n                    if(this.options.debug) console.log(\"addViewportListeners: phone\");\r\n                    if(this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.phone.viewed})`);\r\n\r\n                    this.updateViewData(this.responsiveData.phone.viewed);\r\n                }\r\n            };\r\n\r\n        if (phone.matches && this.slides.viewed > this.responsiveData.phone.viewed) {\r\n\r\n            if(this.options.debug) console.log(\"addViewportListeners: phone\");\r\n            if(this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.phone.viewed})`);\r\n\r\n            this.updateViewData(this.responsiveData.phone.viewed);\r\n        } else if (tablet.matches && this.slides.viewed > this.responsiveData.tablet.viewed) {\r\n\r\n            if(this.options.debug) console.log(\"addViewportListeners: tablet\");\r\n            if(this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.tablet.viewed})`);\r\n\r\n            this.updateViewData(this.responsiveData.tablet.viewed);\r\n        } else if (laptop.matches && this.slides.viewed > this.responsiveData.laptop.viewed) {\r\n\r\n            if(this.options.debug) console.log(\"addViewportListeners: laptop\");\r\n            if(this.options.debug) console.log(`addViewportListeners call updateViewData(${this.responsiveData.laptop.viewed})`);\r\n\r\n            this.updateViewData(this.responsiveData.laptop.viewed);\r\n        } else if (desktop.matches) {\r\n\r\n            if(this.options.debug) console.log(\"addViewportListeners: desktop\");\r\n            if(this.options.debug) console.log(`addViewportListeners call updateViewData(${$(this.id).data(\"viewed\")})`);\r\n\r\n            this.updateViewData($(this.id).data(\"viewed\"));\r\n        }\r\n\r\n        phone.addListener(checkPhoneQuery);\r\n        tablet.addListener(checkTabletQuery);\r\n        laptop.addListener(checkLaptopQuery);\r\n        desktop.addListener(checkDesktopQuery);\r\n    };\r\n    //Добавление IntersectionObserver для ленивой загрузки\r\n    SliderConstructor.prototype.addIntersectionObserver = function(){\r\n\r\n        if(this.options.debug) console.log(\"Call addIntersectionObserver\");\r\n\r\n        let lazy_flag = true,\r\n            image_observer_callback = (entries, observer) => {\r\n\r\n                entries.forEach((entry) => {\r\n\r\n                    let isIntersecting = entry.isIntersecting;\r\n\r\n                    if (isIntersecting) {\r\n                        this.lazyloadImage(entry.target);\r\n                        if (lazy_flag) {\r\n                            $(entry.target).load(() => {\r\n                                this.slides.maxHeight = this.slides.object.find('img').outerHeight(true);\r\n                                if(this.options.debug) console.log(`addIntersectionObserver image_observer_callback call sliderResizer`);\r\n                                this.sliderResizer();\r\n                            });\r\n                            lazy_flag = false;\r\n                        }\r\n                        observer.disconnect();\r\n                    }\r\n                });\r\n            },\r\n            slider_observer = new IntersectionObserver((entries, observer) => {\r\n\r\n                entries.forEach((entry) => {\r\n\r\n                    let isIntersecting = entry.isIntersecting;\r\n                    if (isIntersecting) {\r\n                        let images = $(this.id).find('.slide img');\r\n                        $.each(images, (index, image) => {\r\n\r\n                            let image_observer = new IntersectionObserver(image_observer_callback, {\r\n                                root: $(this.id).get(0),\r\n                                rootMargin: '200px'\r\n                            });\r\n                            image_observer.observe(image);\r\n                        });\r\n                        observer.disconnect();\r\n                    }\r\n                });\r\n            }, {\r\n                rootMargin: '200px'\r\n            });\r\n\r\n        slider_observer.observe(document.getElementById(this.id.slice(1)));\r\n    };\r\n    //Ленивая загрузка изображения\r\n    SliderConstructor.prototype.lazyloadImage = function(image){\r\n\r\n        $(image).attr('src', $(image).data('src'));\r\n        $(image).attr('srcset', $(image).data('srcset'));\r\n        $(image).attr('sizes', $(image).data('sizes'));\r\n    };\r\n    //Функция подсчета ширины слайда\r\n    SliderConstructor.prototype.calculateSlideWidth = function(){\r\n\r\n        let sliderWidth = $(this.id).width();\r\n\r\n        return sliderWidth / this.slides.viewed - (this.spacers.min_width / this.slides.viewed * (this.slides.viewed - 1));\r\n    };\r\n    /***************************Инициализация слайдера***************************************/\r\n    slider.initializeSlider();\r\n};"]}